# Project 3

A project to create an interactive gender pay gap analysis dashboard that is accessible to users at all levels so that they can visualize, examine, and analyze the gender pay gap to draw conclusions that can help them in their field of work or study to make informed decisions. These users can range from beginners like high school students to advanced like college going students and experienced professionals like HR managers. 



## Acknowledgements

- Dataset chosen for the project originates from Glassdoor, a well-known platform that aggregates and anonymizes employee data on salaries, job titles, and employer ratings across various industries.
    https://www.kaggle.com/datasets/nilimajauhari/glassdoor-analyze-gender-pay-gap

- Referred to this website for understanding the  templates used by Flask to expand the functionality of a web application, while maintaining a simple file structure. These templates are enabled using the Flask's inbuilt Jinja2 template engine.
  https://www.codecademy.com/learn/learn-flask/modules/flask-templates-and-forms/cheatsheet

- Referred this website for understanding how to return files with Flask.   
    https://pythonprogramming.net/flask-send-file-tutorial/




## Features of the Project

- The project includes visualizations created with Python and libraries, namely, Pandas, Matplotlib, Seaborn.

- Data for the project was downloaded from the source in a csv file named Glassdoor Gender Pay Gap.csv. It contains 1000 records and is saved in the Resources folder of the file structure in the project. 

- Postgres is the relational database chosen for the project. Following database setup was done in the Postgres pgAdmin tool:
    - A postgres database named pay_gap was created.
    - A table named pay_gap was created by running the script in the schema.sql file available in the Resources folder. An Id column is included as a default Primary Key (unique identifier) and the values for it were generated by the database engine.
    - The rest of the columns data of the pay_gap table was imported from the Glassdoor Gender Pay Gap.csv.

- An app.py file is created that holds the server side functionality for creating the interactive Dashboard. It includes the following:
    - imports the required libraries for the project.
    - contains a helper function called load_data() that does the following: 
        - establishes connection with the pay_gap postgres database using an sqlalchemy engine to fetch data. A config file is used to source the credentials in the python code for encryption.
        - uses an sql query to read the data into the dataframe named df 
        - performs column renaming and data manipulation for better readability and visualization.
        - returns a dataframe named df

- Provides Flask set up with the following API routes for the data visualization 
    - @app.route('/')
    - @app.route('/heatmap', methods=['POST'])
    - @app.route('/dumbbell-plot', methods=['POST'])
    - @app.route('/bar-chart', methods=['POST'])

User selected options are processed by the server, such as form input, like a metric (JobTitle, AgeCategory, Seniority, PerfEval) in case of the heatmap, a view (Job Title, Department) for the dumbbell plot, and a particular job tile like Software engineer from the list of job titles to generate a specific bar chart. The selection is submitted to the server for processing.
The user is able to select these parameters through the dropdowns from the HTML and CSS generated interface. The Flask backend with interactive API routes serve back Python created plots based on data filtered in pandas.



##  Ethical Considerations 

In this gender pay gap analysis project, several efforts were made to uphold ethical considerations. The analysis ensures data transparency by clearly presenting the sources, data manipulation methodology, and metrics used, such as average base pay, bonuses, and gender comparisons. To prevent bias and discrimination, the dataset is aggregated by multiple relevant factors, including job titles, departments, education levels, and age categories, allowing for a more nuanced understanding of pay disparities. Additionally, the analysis avoids oversimplification by accounting for factors like seniority and performance evaluations to ensure fairer comparisons. Personal and identifiable information is excluded to maintain data privacy and confidentiality. We also implemented data validation steps to ensure accuracy. This project aims to raise awareness of pay inequities while maintaining objectivity, ensuring the results are used constructively to promote equality rather than reinforce stereotypes. Hence, it supports ethical and data-informed decision-making rather than over generalizations.

## Instructions to Use and Interact with the Project

- Download Project3 from the git repository - https://github.com/SShar-del/Project-3
- Perform Database setup steps:
    - Create a postgres database named pay_gap.
    - Create a table named pay_gap by running the script in the schema.sql file available in the Resources folder.
    - Primary key column Id is generated by the script and import the rest of the columns data in the pay_gap table from the Glassdoor Gender Pay Gap.csv in the pgAdmin tool.
- Update the config.json file with your Postgres username and password to connect to the postgres database and run the database setup code in app.py.

- To run the flask app, open a new Terminal in the app.py file and run the file using the command  
        python app.py
- Ctrl click or Cmd click on the http://127.0.0.1:5000 url returned. It will launch the Gender pay Gap Analysis Dashboard in your default browser (recommended: Google Chrome). You can also open a browser and paste this URL to launch the dashboard.

- Use the dropdown menus available on the dashboard to select a metric and generate a data visualization to analyze the gender pay gap in multiple ways to suit your needs.

Here is the context for understanding the visualizations:
- First visualization - The color intensity represents base pay, with lighter colors indicating lower salaries and darker colors representing higher salaries. 

- Second Visualization - The length of the line of the dumbbell represents the difference in the base pay between males and females indicating the Job Titles and Departments with significant gaps or more pay equity.

- Third Visualization - The length of the bars in the horizontal bar chart represents a combination of Average Base pay and Bonus, both indicated using separate colors for the selected Job Title. A comparative view of the Job title specific Male and Female earnings is available for a quick analysis.
